DATA SEGMENT
    MESSAGE DB 'ENTER THE DECIMAL VALUE $'
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE, DS:DATA

START:
    MOV AX, DATA
    MOV DS, AX

    MOV AH, 09H
    MOV DX, OFFSET MESSAGE
    INT 21H

    MOV CX, 10
    MOV BX, 0

INPUT:
    MOV AH, 01H
    INT 21H
    CMP AL, 13
    JE INPUT_END
    SUB AL, 48
    MOV AH, 0
    PUSH AX
    MOV AX, BX
    MUL CX
    MOV BX, AX
    POP AX
    ADD BX, AX
    JMP INPUT

INPUT_END:
    MOV AX, BX
    MOV CX, 16
    MOV BX, 0

CONVERSION:
    XOR DX, DX
    DIV CX
    PUSH DX
    INC BL
    CMP AX, 0
    JNZ CONVERSION

    MOV AH, 02H
    MOV DL, 13
    INT 21H
    MOV DL, 10
    INT 21H

OUTPUT_START:
    POP AX
    CMP AL, 9
    JG OUTPUT_HEX

OUTPUT_DEC:
    ADD AL, 48
    JMP PRINT_CHAR

OUTPUT_HEX:
    ADD AL, 55

PRINT_CHAR:
    MOV AH, 02H
    MOV DL, AL
    INT 21H
    INC BH
    CMP BH, BL
    JC OUTPUT_START

OUTPUT_END:
    MOV AH, 4CH
    INT 21H

CODE ENDS
END START